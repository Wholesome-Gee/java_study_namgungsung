package basic; // 91. 인터페이스의 장점 1

/**
* [핵심 요약]
	1. 인터페이스의 본질
		- 두 클래스(객체) 간의 중간 역할을 수행하며 연결, 대화, 소통을 돕는다.

	2. 선언과 구현의 분리
		- 클래스 내부에 붙어있던 '선언부(껍데기)'와 '구현부(알맹이)'를 따로 떼어내는 것.
		- 껍데기는 인터페이스로, 알맹이는 이를 구현한 클래스로 나눕니다.
		
	3. 느슨한 결합 (Loose Coupling)
		- 사용자(A)와 알멩이(B)의 직접적인 관계(A가 B를 직접 사용) 대신 중간에 인터페이스(I)를 두는 방식.
		- 장점: 알맹이(B)가 다른 것(C)으로 바뀌어도 사용자(A)는 인터페이스(I)와 소통하기에 코드를 수정할 필요가 없다.
*/

// [Step 1] 선언부(껍데기)를 인터페이스로 분리
interface I {
  public abstract void method();
}

// [Step 2] 구현부(알맹이) - 클래스 B
class B implements I {
  public void method() {
  	System.out.println("B 클래스의 메서드 실행");
  }
}

// [Step 3] 구현부(알맹이) - 클래스 C 
class C implements I {
  public void method() {
  	System.out.println("C 클래스의 메서드 실행");
  }
}

// [Step 4] 사용자 클래스 A
class A {
  // 매개변수 타입을 인터페이스 I로 설정하여 B나 C 어느 것이든 수용 가능
  void methodA(I i) { 
  	i.method(); 
  }
}

public class Chapter091 {
  public static void main(String[] args) {
  	A a = new A();
  	
  	// A는 B를 사용하지만, 코드상으로는 인터페이스 I에만 의존함
  	a.methodA(new B()); 
  	
  	// 알맹이를 C로 바꿔도 클래스 A의 methodA 코드는 전혀 수정할 필요가 없음!
  	a.methodA(new C()); 
  }
}

/**
 * [Gemini의 꼼꼼한 보충수업]
	1. 왜 껍데기가 중요한가?
		- 사용자가 복잡한 기계 내부(알맹이)를 알 필요 없이 인터페이스만 알면 되기 때문.
		- 내부 부품이 구형에서 신형으로 바뀌어도(변경), 껍데기 조작법이 같다면 사용자는 영향을 받지 않는다.
		
	2. 강한 결합 vs 느슨한 결합
		- 강한 결합: A가 B를 직접 호출 (`void methodA(B b)`). B가 C로 바뀌면 A도 고쳐야 함.
		- 느슨한 결합: A가 인터페이스를 호출 (`void methodA(I i)`). B가 C로 바뀌어도 A는 그대로! 


* [실무 꿀팁 - 인터페이스의 가치]
	1. 변경 최소화 = 에러 최소화
		- 소프트웨어는 언제든 변한다. 변경 범위를 최소화하는 것이 유지보수의 핵심이다.
	
	2. 다형성과의 관계
		- 인터페이스 타입을 매개변수로 쓰면, 해당 인터페이스를 구현한 어떤 객체든 들어올 수 있는 다형성이 발휘된다.
		
	3. 스프링 프레임워크의 기초
		- 나중에 배울 스프링의 핵심 개념인 '의존성 주입(DI)'이 바로 이 인터페이스를 통한 느슨한 결합을 기반으로 한다.
*/