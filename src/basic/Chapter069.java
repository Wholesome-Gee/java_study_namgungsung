package basic; // 69. 변수의 초기화, 멤버변수의 초기화

/**
* [핵심 요약]
	1. 지역변수(lv) vs 멤버변수(iv, cv)
		- 지역변수는 반드시 수동으로 초기화
		- 멤버변수(iv, cv)는 컴파일러가 자동으로 기본값으로 초기화
	2. 멤버변수의 초기화 방법 
		- 명시적 초기화: 변수 선언 시 대입 연산자(=)를 사용하는 가장 간단한 방법입니다.
		- 초기화 블록: 복잡한 초기화 작업이 필요할 때 사용합니다. (static { } 등)
		- 생성자: 인스턴스 변수(iv)의 복잡한 초기화에 주로 사용합니다.
	3. 초기화 순서 
		- 클래스 변수(cv)가 먼저, 그 다음 인스턴스 변수(iv)가 초기화
		- 순서: 자동 초기화(0) -> 명시적 초기화(=) -> 초기화 블록 -> 생성자.
*/

class InitTest {
  static int cv = 1; // 명시적 초기화 (cv)
  int iv = 1;        // 명시적 초기화 (iv)

  static {           // 클래스 초기화 블록: cv의 복잡한 초기화 
  	cv = 2;
  }

  {                  // 인스턴스 초기화 블록: iv의 복잡한 초기화 (거의 안 씀) 
  	iv = 2;
  }

  InitTest() {       // 생성자: iv의 복잡한 초기화
  	iv = 3;
  }
}

public class Chapter069 {
  public static void main(String[] args) {
  	// 지역변수는 초기화하지 않고 사용하면 에러 발생!
  	int i = 0; // 반드시 수동 초기화 필요
  	int j = i; 
  	
  	System.out.println(InitTest.cv);
  	InitTest it = new InitTest();
  	System.out.println(it.iv);
  }
}

/**
 * [Gemini의 꼼꼼한 보충수업]
	1. 왜 지역변수는 자동 초기화가 안 되나요? 
		- 지역변수가 담기는 '스택(Stack)' 메모리는 재사용이 매우 빈번합니다.
		- 매번 0으로 닦아내기엔 성능이 떨어지므로, 새로운 값으로 덮어쓰는 방식을 취합니다. 
	2. 참조형 변수의 초기화
		- 참조형 변수의 기본값은 `null`, '초기화'는 객체를 생성해서 초기값을 연결해 주는 것을 의미합니다.
		- 예: `Engine e = new Engine();`
 */