package basic; // 참조변수 super, 생성자 super()

/**
* [핵심 요약]
	1. 참조 변수 super (00:00:09)
		- 객체 자신을 가리키는 참조 변수로, `this`와 거의 같습니다. [00:00:15]
		- 조상의 멤버와 자신의 멤버를 **구별**할 때 사용합니다. [00:00:59]
		- 인스턴스 메서드(또는 생성자) 내에서만 존재하며, static 메서드에서는 사용할 수 없습니다. [00:00:21]
	2. 생성자 super() (00:07:12)
		- **조상의 생성자**를 호출할 때 사용합니다. [00:07:40]
		- 조상의 멤버는 조상의 생성자가 초기화하도록 하는 것이 좋은 설계입니다. [00:08:21]
		- **중요:** 모든 생성자의 첫 줄에는 반드시 다른 생성자(`this()` 또는 `super()`)를 호출해야 합니다. [00:11:56]
		- 호출하지 않으면 컴파일러가 생성자 첫 줄에 자동으로 `super();`를 삽입합니다. [00:12:10]
*/

class Parent {
  int x = 10; // super.x [00:01:36]
}

class Child extends Parent {
  int x = 20; // this.x

  void method() {
  	System.out.println("x=" + x);           // 20 (가까운 쪽) [00:03:08]
  	System.out.println("this.x=" + this.x);   // 20 [00:03:17]
  	System.out.println("super.x=" + super.x); // 10 (조상의 것) [00:03:23]
  }
}

class Point {
  int x, y;

  // 기본 생성자를 습관적으로 만드는 것이 중요합니다! [00:19:31]
  Point() {} 

  Point(int x, int y) {
  	this.x = x;
  	this.y = y;
  }
}

class Point3D extends Point {
  int z;

  Point3D(int x, int y, int z) {
  	// 조상의 멤버는 조상의 생성자에게 맡깁니다. [00:10:03]
  	super(x, y); 
  	this.z = z;
  }
}

public class Chapter074 {
  public static void main(String[] args) {
  	Child c = new Child();
  	c.method();
  }
}

/**
 * [Gemini의 꼼꼼한 보충수업]
	1. super vs this (00:06:44)
		- 사실 `super`와 `this`는 같은 객체를 가리키는 참조 변수입니다. 다만, 이름이 겹치는 멤버를 조상 것으로 쓸지 내 것으로 쓸지 '구분'하는 용도로만 쓰입니다. [00:06:55]
	2. 컴파일 에러의 주범: 기본 생성자 (00:14:33)
		- 자식 생성자에서 `super()`가 생략되면 조상의 '기본 생성자'를 찾습니다. [00:16:45]
		- 만약 조상 클래스에 매개변수가 있는 생성자만 있고 기본 생성자가 없다면 컴파일 에러가 발생합니다. [00:19:11]
	3. 초기화의 원칙 (00:09:44)
		- 자식 생성자가 조상의 변수까지 직접 초기화하는 것은 가능은 하지만 지양해야 합니다. 각자의 멤버는 각자의 생성자가 책임지는 것이 가장 깔끔한 객체지향 코드입니다. [00:11:24]
 */

/**
* [실무 꿀팁 - 생성자 설계 편]
	1. 기본 생성자(Default Constructor)를 항상 만드세요
		- 강사님이 강조하신 것처럼, 나중에 이 클래스를 다른 클래스가 상속받게 될 때 예상치 못한 `super();` 호출로 인한 에러를 막아줍니다. [00:19:40]
	2. super() 호출의 순서
		- 자바 객체가 생성될 때는 최상위 조상인 `Object`부터 순차적으로 생성자가 실행됩니다. 
		- 내 코드가 실행되기 전에 조상의 상태가 먼저 준비되어야 하기 때문에 `super()`는 반드시 첫 줄에 와야 합니다.
	3. 라이브러리 확장 시 주의
		- 외부 라이브러리 클래스를 상속받을 때, 부모 클래스에 기본 생성자가 없는 경우가 종종 있습니다. 
		- 이때는 반드시 명시적으로 `super(args);`를 호출해 줘야 컴파일 에러를 피할 수 있습니다.
*/